;;;;;
title: Setting up a MoinMoin Wiki on Ubuntu
tags: Linux
date: 2008-04-15 17:55:23
format: html
;;;;;
I had a bit of trouble with one or two things setting this up at work last week so here's a report from my side of the IT world for anyone who is looking to do this.<br><br>1) Don't apt-get moinmoin.<br>2) You will create a specific instance for your wiki separate from the base install. This is explained below.<br><br>Okay. So, first things first. Check to see if python is installed by running this on the command line:<br><pre>python -v</pre><br>then wget the tar from <a href="http://moinmo.in/MoinMoinDownload">moinmoin</a>:<br><pre>wget http://static.moinmo.in/files/moin-1.6.2.tar.gz</pre><br>extract it:<br><pre>tar zxvf moin-1.6.2.tar.gz</pre><br>and then run:<br><pre>sudo python setup.py install --prefix='/usr/local' --record=install.log</pre><br>This will get a basic install up and running. Now you need to create a wiki instance. You can create one wherever you like but I'd put it in /var/www/YOURWIKI or whatever you'd like to call it. The moinmoin folks have even created a <a href="http://moinmo.in/HelpOnInstalling/WikiInstanceCreation?action=AttachFile&amp;do=view&amp;target=createinstance.sh">handy script</a> to take most of the work out of your hands and make sure the permissions are right. Grab and read that, decide where you'd like the files to go and then:<br><pre><br>sudo ./createinstance.sh /var/www/YOURWIKI<br>sudo mkdir /var/www/YOURWIKI/cgi-bin<br>sudo cp /usr/local/share/moin/server/moin.cgi /var/www/YOURWIKI/cgi-bin/.<br>cd /var/www<br>sudo chown -R www-data:www-data YOURWIKI/cgi-bin<br>sudo chmod -R ug+rx YOURWIKI/cgi-bin<br>sudo chmod -R o-rwx YOURWIKI/cgi-bin</pre><br>Your instance is installed, now you just have to set the config files up to point to it. Add the following two lines to /etc/apache2/httpd.conf where the Alias is /moin_staticYOURVERSIONNUMBER:<br><code><br>Alias /moin_static162/ /usr/local/share/moin/htdocs/<br>ScriptAlias /tvswiki /var/www/tvswiki/cgi-bin/moin.cgi</code><br><br>Set the path to your wiki to /var/www/YOURWIKI in /var/www/YOURWIKI/cgi-bin/moin.cgi<br>Set the data dir and underlay dir to their (absolute, i.e. /var/www/YOURWIKI/WHATEVER) paths in /var/www/YOURWIKI/wikiconfig.py<br>Restart apache with<br><pre>sudo /etc/init.d/apache2 restart</pre><br>and you're done!<br>Of course, the next thing to look into will be setting up <a href="http://moinmo.in/HelpOnAccessControlLists">groups and ACLs</a> and <a href="http://moinmo.in/HelpOnThemes">theming it</a>. Happy Hacking!
